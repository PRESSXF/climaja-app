"use strict";(self.webpackChunkclimaja_app=self.webpackChunkclimaja_app||[]).push([[5075],{5075:(E,h,c)=>{c.r(h),c.d(h,{HomePageModule:()=>j});var l=c(177),m=c(4341),n=c(8974),u=c(2323),i=c(6276),g=c(6118),p=c(8168),f=c(6610);function F(t,r){1&t&&i.nrm(0,"ion-spinner",7)}function _(t,r){if(1&t){const e=i.RV6();i.j41(0,"div")(1,"h2"),i.EFF(2),i.k0s(),i.j41(3,"p"),i.EFF(4),i.nI1(5,"temperatura"),i.k0s(),i.j41(6,"p"),i.EFF(7),i.k0s(),i.j41(8,"ion-button",4),i.bIt("click",function(){i.eBV(e);const o=i.XpG();return i.Njj(o.irParaDetalhes())}),i.EFF(9,"Ver Detalhes"),i.k0s()()}if(2&t){const e=i.XpG();i.R7$(2),i.JRh(e.climaAtual.name),i.R7$(2),i.SpI("Temperatura: ",i.bMT(5,3,e.climaAtual.main.temp),""),i.R7$(3),i.SpI("Condi\xe7\xe3o: ",e.climaAtual.weather[0].description,"")}}function v(t,r){if(1&t){const e=i.RV6();i.j41(0,"ion-item",9),i.bIt("click",function(){const s=i.eBV(e).$implicit,d=i.XpG(2);return i.Njj(d.selecionarCidade(s))}),i.EFF(1),i.k0s()}if(2&t){const e=r.$implicit;i.R7$(1),i.SpI(" ",e," ")}}function C(t,r){if(1&t&&(i.j41(0,"ion-list")(1,"ion-list-header"),i.EFF(2,"Hist\xf3rico de Cidades"),i.k0s(),i.DNE(3,v,2,1,"ion-item",8),i.k0s()),2&t){const e=i.XpG();i.R7$(3),i.Y8G("ngForOf",e.historicoService.getHistorico())}}const H=[{path:"",component:(()=>{class t{constructor(e,a,o){this.climaService=e,this.router=o,this.cidade="",this.carregando=!1,this.historicoService=a}ngOnInit(){}buscarClima(){this.cidade.trim()&&(this.carregando=!0,this.climaService.getClimaAtual(this.cidade).subscribe(e=>{this.climaAtual=e,this.carregando=!1,this.historicoService.adicionarHistorico(this.cidade)},e=>{console.error("Erro ao buscar clima:",e),this.carregando=!1}))}irParaDetalhes(){this.climaAtual&&this.climaAtual.name&&this.router.navigate(["/detalhes-clima",this.climaAtual.name])}irParaHistorico(){this.router.navigate(["/historico-clima"])}selecionarCidade(e){this.cidade=e,this.buscarClima()}static{this.\u0275fac=function(a){return new(a||t)(i.rXU(g.M),i.rXU(p._),i.rXU(u.Ix))}}static{this.\u0275cmp=i.VBU({type:t,selectors:[["app-home"]],decls:16,vars:4,consts:[["color","primary"],[1,"ion-padding"],["position","floating"],[3,"ngModel","ngModelChange","keyup.enter"],["expand","block",3,"click"],["name","crescent",4,"ngIf"],[4,"ngIf"],["name","crescent"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(a,o){1&a&&(i.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),i.EFF(3,"ClimaJ\xe1 - Home"),i.k0s()()(),i.j41(4,"ion-content",1)(5,"ion-item")(6,"ion-label",2),i.EFF(7,"Digite o nome da cidade"),i.k0s(),i.j41(8,"ion-input",3),i.bIt("ngModelChange",function(d){return o.cidade=d})("keyup.enter",function(){return o.buscarClima()}),i.k0s()(),i.j41(9,"ion-button",4),i.bIt("click",function(){return o.buscarClima()}),i.EFF(10,"Buscar Clima"),i.k0s(),i.DNE(11,F,1,0,"ion-spinner",5),i.DNE(12,_,10,5,"div",6),i.j41(13,"ion-button",4),i.bIt("click",function(){return o.irParaHistorico()}),i.EFF(14,"Ver Hist\xf3rico de Buscas"),i.k0s(),i.DNE(15,C,4,1,"ion-list",6),i.k0s()),2&a&&(i.R7$(8),i.Y8G("ngModel",o.cidade),i.R7$(3),i.Y8G("ngIf",o.carregando),i.R7$(1),i.Y8G("ngIf",o.climaAtual),i.R7$(3),i.Y8G("ngIf",o.historicoService.getHistorico().length>0))},dependencies:[l.Sq,l.bT,m.BC,m.vS,n.Jm,n.W9,n.eU,n.$w,n.uz,n.he,n.nf,n.AF,n.w2,n.BC,n.ai,n.Gw,f.f],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: #f0f8ff}h2[_ngcontent-%COMP%]{color:#3880ff;margin-top:16px}ion-list[_ngcontent-%COMP%]{margin-top:24px}']})}}return t})()}];let k=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=i.$C({type:t})}static{this.\u0275inj=i.G2t({imports:[u.iI.forChild(H),u.iI]})}}return t})();var P=c(3887);let j=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=i.$C({type:t})}static{this.\u0275inj=i.G2t({imports:[l.MD,m.YN,n.bv,k,P.G]})}}return t})()}}]);