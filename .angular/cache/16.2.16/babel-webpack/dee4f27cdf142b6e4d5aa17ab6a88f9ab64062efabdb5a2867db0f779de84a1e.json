{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport let HistoricoService = /*#__PURE__*/(() => {\n  class HistoricoService {\n    constructor() {\n      // Chave para armazenar o histórico no localStorage\n      this.storageKey = 'historicoClimaJa';\n    }\n    /**\r\n     * Recupera o histórico de buscas do localStorage\r\n     * @returns Array de strings com os nomes das cidades pesquisadas\r\n     */\n    getHistorico() {\n      const historicoJson = localStorage.getItem(this.storageKey);\n      if (historicoJson) {\n        return JSON.parse(historicoJson);\n      }\n      return [];\n    }\n    /**\r\n     * Adiciona uma cidade ao histórico de buscas\r\n     * @param cidade Nome da cidade a ser adicionada\r\n     */\n    adicionarHistorico(cidade) {\n      let historico = this.getHistorico();\n      // Remove a cidade se já existir para evitar duplicatas\n      historico = historico.filter(c => c.toLowerCase() !== cidade.toLowerCase());\n      // Adiciona a cidade no início do array\n      historico.unshift(cidade);\n      // Limita o histórico a 20 itens\n      if (historico.length > 20) {\n        historico = historico.slice(0, 20);\n      }\n      // Salva o histórico atualizado no localStorage\n      localStorage.setItem(this.storageKey, JSON.stringify(historico));\n    }\n    static {\n      this.ɵfac = function HistoricoService_Factory(t) {\n        return new (t || HistoricoService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: HistoricoService,\n        factory: HistoricoService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return HistoricoService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}